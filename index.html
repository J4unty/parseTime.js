<html>
<head>
  <meta charset="utf-8">
  <title>parseTime</title>
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="parseTime.js" type="text/javascript"></script>
  <script>
    window.onload = function () {
      var i, retvalue, eles = document.getElementsByTagName('p'), now = new Date().getTime();
      for (i=0; i < eles.length; i++) {
        retvalue = parseTime(eles[i].textContent, now);
        if (retvalue !== undefined) {
          eles[i].innerHTML += '<br/> ' + JSON.stringify(retvalue);
          eles[i].innerHTML += '<br/> ' + new Date(retvalue.absolute).toUTCString();
        } else {
          eles[i].innerHTML += '<br/> not parsable';
        }
      }
    };
    function demo () {
      var ret = '',
        ele = document.getElementById('ret'),
        inp = document.getElementById('inp').value,
        now = new Date().getTime(),
        retvalue = parseTime(inp, now);
        if (retvalue !== undefined) {
          ret += JSON.stringify(retvalue);
          ret += '<br/> ' + new Date(retvalue.absolute).toUTCString();
        } else {
          ret += 'not parsable';
        }
        ele.innerHTML = ret;
    }
  </script>
</head>
<body>
  <h1>parseTime.js</h1>
  <h2>Version: 0.1.5</h2>
  <h2>License: MIT</h2>
  <br/>
  <input id="inp" onkeyup="demo()" type="text"><p id="ret"></p>
  <hr/>
  <p><span>i was in Berlin one month ago<span></p>
  <p><span>i was in Berlin five day ago<span></p>
  <p><span>i go to Munich in two weeks<span></p>
  <p><span>you where in london for four days<span></p>
  <p><span>it will be ready in 2 months<span></p>
  <p><span>it will be ready in 23 weeks from now<span></p>
  <p><span>this is a text without time informations<span></p>
  <p><span>in zehn Tag<span></p>
  <p><span>vor einer Woche<span></p>
  <p><span>Hier steht keine Zeitangabe<span></p>
  <p><span>the $event is in a few days<span></p>
  <p><span>2012-07-13 13:37:00<span></p>
  <p><span>2013-07-13 13:37:00<span></p>
  <p><span>2014-07-13 13:37:00<span></p>
  <p><span>2014-08-13<span></p>
  <p><span>13:37:00<span></p>
  <p><span>30.01.2013<span></p>
  <p><span>30.01.2013 13:37:59<span></p>
  <p><span>2013-01-29 13:37:59<span></p>
  <p><span>Ã¼bermorgen um 16 Uhr<span></p>
</body>
</html>
